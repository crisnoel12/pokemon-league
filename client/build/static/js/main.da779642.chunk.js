(this["webpackJsonppokemon-league"]=this["webpackJsonppokemon-league"]||[]).push([[0],{126:function(e,t,n){},178:function(e,t){},185:function(e,t,n){"use strict";n.r(t);var r=n(13),a=n.n(r),o=(n(126),n(7)),c=n(9),s=n.n(c),i=n(14),l=n(18),u=n(0),d=n.n(u),j=n(248),p=n(238),b=n(112),m=n(228),h=n(189),O=n(247),f=n(219),x=Object(f.a)((function(e){return{App_Header:{backgroundColor:"#FF1C1C",height:"100px",padding:"20px",color:"white",position:"relative",borderBottom:"12px solid black","&:after":{content:'""',position:"absolute",boxSizing:"border-box",background:"white",border:"10px solid black",boxShadow:"inset 0 0 0 12px white, inset 0 0 0 16px black",borderRadius:"50%",height:"80px",width:"80px",left:"50%",bottom:"-48px",transform:"translateX(-50%)",zIndex:100}},App_Title:{fontSize:"2.5em",fontFamily:'"Do Hyeon", sans-serif',letterSpacing:".1em",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",margin:0}}})),g=Object(u.createContext)(null),v=n(34),k=n(242),_=n(224),P=n(188),y=n(59),w=n(239),C=n(249),L=n(223),S=n(77),T=n.n(S),E=n(2),N=Object(f.a)((function(e){return{close:{position:"absolute",color:"black",borderRadius:"100%",right:e.spacing(1),top:e.spacing(1),fontWeight:"bold",cursor:"pointer",zIndex:1e3}}}));function A(e){var t=e.onClose,n=e.disableContainer,r=e.title,a=N();return Object(E.jsx)(C.a,{title:r||"",placement:"top",arrow:!0,children:n?Object(E.jsx)(T.a,{className:a.close,onClick:t}):Object(E.jsx)(L.a,{className:a.close,onClick:t,children:Object(E.jsx)(T.a,{})})})}var F=n(104),I=n(23),R=n.n(I),U="/api",H=function e(){Object(F.a)(this,e)};H.signUp=function(){var e=Object(i.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.a.post("".concat(U,"/signup"),t);case 3:return n=e.sent,e.abrupt("return",n);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),H.login=function(){var e=Object(i.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.a.post("".concat(U,"/login"),t);case 3:return n=e.sent,e.abrupt("return",n);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),H.checkIsLoggedIn=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.a.get("".concat(U,"/is-logged-in"));case 3:return t=e.sent,e.abrupt("return",t);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),H.logout=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.a.get("".concat(U,"/logout"));case 3:return t=e.sent,e.abrupt("return",t);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),H.getCSRFToken=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.a.get("".concat(U,"/csrf-token"));case 3:return t=e.sent,e.abrupt("return",t);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),H.getProfile=function(){var e=Object(i.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.a.get("".concat(U,"/user/").concat(t));case 3:return n=e.sent,e.abrupt("return",n);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),H.updateProfile=function(){var e=Object(i.a)(s.a.mark((function e(t,n){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.a.patch("/api/user/".concat(t),n);case 3:return r=e.sent,e.abrupt("return",r);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),H.getTrainers=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.a.get("".concat(U,"/user"));case 3:return t=e.sent,e.abrupt("return",t);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));var W={email:"",password:""},M=Object(f.a)((function(e){return{root:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",padding:e.spacing(3),width:"50%",maxWidth:"50%"}}})),D=Object(O.a)((function(e){var t=e.close,n=e.history,r=M(),a=Object(u.useContext)(g).setAuthUser,c=Object(u.useState)(W),d=Object(l.a)(c,2),j=d[0],p=d[1],b=Object(u.useState)(W),m=Object(l.a)(b,2),O=m[0],f=m[1],x=function(e){p(Object(o.a)(Object(o.a)({},j),{},Object(v.a)({},e.target.name,e.target.value)))},C=function(){var e=Object(i.a)(s.a.mark((function e(r){var c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.prev=1,e.next=4,H.login(j);case 4:c=e.sent,t(),a(c.data.user),n.push("/profile/".concat(c.data.user)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),e.t0.response.data.errors&&f(Object(o.a)(Object(o.a)({},O),e.t0.response.data.errors));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsx)(k.a,{open:!0,onClose:t,children:Object(E.jsx)("form",{onSubmit:C,children:Object(E.jsxs)(_.a,{container:!0,component:P.a,spacing:3,className:r.root,children:[Object(E.jsx)(_.a,{item:!0,xs:12,children:Object(E.jsx)(y.a,{variant:"h3",children:"Login"})}),Object(E.jsx)(_.a,{item:!0,xs:12,children:Object(E.jsx)(w.a,{variant:"outlined",type:"email",placeholder:"Email",fullWidth:!0,name:"email",onChange:x,error:""!==O.email,helperText:O.email})}),Object(E.jsx)(_.a,{item:!0,xs:12,children:Object(E.jsx)(w.a,{variant:"outlined",type:"password",placeholder:"Password",fullWidth:!0,name:"password",onChange:x,error:""!==O.password,helperText:O.password})}),Object(E.jsx)(_.a,{item:!0,xs:12,children:Object(E.jsx)(h.a,{type:"submit",color:"primary",fullWidth:!0,variant:"contained",onClick:C,children:"Submit"})}),Object(E.jsx)(A,{onClose:t})]})})})})),Q=n(225),B=n(250),z=n(227),K=n(241),X={username:"",first_name:"",middle_name:"",last_name:"",email:"",birthdate:"",gender:"",password:"",confirm_password:""},V=Object(f.a)((function(e){return{root:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",padding:e.spacing(3),width:"50%",maxWidth:"50%"}}})),q=Object(O.a)((function(e){var t=e.close,n=e.history,r=V(),a=Object(u.useContext)(g).setAuthUser,c=Object(u.useState)(X),d=Object(l.a)(c,2),j=d[0],p=d[1],b=Object(u.useState)(X),m=Object(l.a)(b,2),O=m[0],f=m[1],x=function(e){p(Object(o.a)(Object(o.a)({},j),{},Object(v.a)({},e.target.name,e.target.value)))},C=j.confirm_password!==j.password,L=function(){var e=Object(i.a)(s.a.mark((function e(){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H.signUp(j);case 3:r=e.sent,t(),a(r.data.user),n.push("/profile/".concat(r.data.user)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0),e.t0.response.data.errors&&f(Object(o.a)(Object(o.a)({},O),e.t0.response.data.errors));case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(E.jsx)(k.a,{open:!0,onClose:t,children:Object(E.jsx)("form",{onSubmit:L,children:Object(E.jsxs)(_.a,{container:!0,component:P.a,spacing:3,className:r.root,children:[Object(E.jsx)(_.a,{item:!0,xs:12,children:Object(E.jsx)(y.a,{variant:"h3",children:"Sign Up"})}),Object(E.jsx)(_.a,{item:!0,xs:6,children:Object(E.jsx)(w.a,{autoFocus:!0,variant:"outlined",type:"text",placeholder:"Username",fullWidth:!0,name:"username",onChange:x,error:""!==O.username,helperText:O.username})}),Object(E.jsx)(_.a,{item:!0,xs:6,children:Object(E.jsx)(w.a,{variant:"outlined",type:"email",placeholder:"Email",fullWidth:!0,name:"email",onChange:x,error:""!==O.email,helperText:O.email})}),Object(E.jsx)(_.a,{item:!0,xs:4,children:Object(E.jsx)(w.a,{variant:"outlined",type:"text",placeholder:"First Name",fullWidth:!0,name:"first_name",onChange:x,error:""!==O.first_name,helperText:O.first_name})}),Object(E.jsx)(_.a,{item:!0,xs:4,children:Object(E.jsx)(w.a,{variant:"outlined",type:"text",placeholder:"Middle Name",fullWidth:!0,name:"middle_name",onChange:x})}),Object(E.jsx)(_.a,{item:!0,xs:4,children:Object(E.jsx)(w.a,{variant:"outlined",type:"text",placeholder:"Last Name",fullWidth:!0,name:"last_name",onChange:x,error:""!==O.last_name,helperText:O.last_name})}),Object(E.jsxs)(_.a,{item:!0,xs:8,children:[Object(E.jsx)(Q.a,{children:"Birthdate"}),Object(E.jsx)(w.a,{variant:"outlined",id:"birthdate",type:"date",fullWidth:!0,name:"birthdate",onChange:x,error:""!==O.birthdate,helperText:O.birthdate})]}),Object(E.jsxs)(_.a,{item:!0,xs:4,children:[Object(E.jsx)(Q.a,{children:"Gender"}),Object(E.jsx)(B.a,{children:Object(E.jsxs)(_.a,{container:!0,children:[Object(E.jsx)(_.a,{item:!0,xs:6,children:Object(E.jsx)(z.a,{value:"end",control:Object(E.jsx)(K.a,{id:"m",value:"m",className:"radio",name:"gender",checked:"m"===j.gender,onChange:x}),label:"Male",labelPlacement:"end"})}),Object(E.jsx)(_.a,{item:!0,xs:6,children:Object(E.jsx)(z.a,{value:"end",control:Object(E.jsx)(K.a,{id:"f",value:"f",className:"radio",name:"gender",checked:"f"===j.gender,onChange:x}),label:"Female",labelPlacement:"end"})}),Object(E.jsx)(y.a,{className:"MuiFormHelperText-root MuiFormHelperText-contained Mui-error",variant:"caption",children:O.gender})]})})]}),Object(E.jsx)(_.a,{item:!0,xs:12,children:Object(E.jsx)(w.a,{variant:"outlined",type:"password",placeholder:"Password",fullWidth:!0,name:"password",onChange:x,error:""!==O.password,helperText:O.password})}),Object(E.jsx)(_.a,{item:!0,xs:12,children:Object(E.jsx)(w.a,{variant:"outlined",type:"password",placeholder:"Confirm Password",fullWidth:!0,name:"confirm_password",onChange:x,error:""!==O.confirm_password||C,helperText:O.confirm_password?O.confirm_password:C?"Passwords do not match":null})}),Object(E.jsx)(_.a,{item:!0,xs:12,children:Object(E.jsx)(h.a,{color:"primary",fullWidth:!0,variant:"contained",onClick:L,disabled:function(){switch(!0){case""===j.username:case""===j.email:case""===j.first_name:case""===j.last_name:case""===j.birthdate:case""===j.gender:case""===j.password:case""===j.confirm_password:case C:return!0;default:return!1}}(),children:"Submit"})}),Object(E.jsx)(A,{onClose:t})]})})})})),G=Object(O.a)((function(e){var t=e.history,n=x(),r=Object(u.useState)(null),a=Object(l.a)(r,2),o=a[0],c=a[1],s=Object(u.useContext)(g),i=s.authUser,d=s.setAuthUser,j=function(){return c(null)};return Object(E.jsxs)("div",{children:[Object(E.jsx)("header",{className:n.App_Header,children:Object(E.jsx)("h1",{className:n.App_Title,children:"Pokemon League"})}),i?Object(E.jsxs)(m.a,{fullWidth:!0,children:[Object(E.jsxs)(m.a,{children:[Object(E.jsx)(h.a,{variant:"contained",onClick:function(){return t.push("/profile/".concat(i))},children:"Home"}),Object(E.jsx)(h.a,{variant:"contained",onClick:function(){return t.push("/trainers")},children:"Trainers"})]}),Object(E.jsx)(h.a,{variant:"contained",onClick:function(){H.logout(),d(null),t.push("/")},children:"Logout"})]}):Object(E.jsxs)(m.a,{fullWidth:!0,children:[Object(E.jsx)(h.a,{variant:"contained",onClick:function(){return c(Object(E.jsx)(q,{close:j}))},children:"Sign Up"}),Object(E.jsx)(h.a,{variant:"contained",onClick:function(){return c(Object(E.jsx)(D,{close:j}))},children:"Login"})]}),o]})})),J=n(244),Y=Object(f.a)((function(e){return{root:{position:"relative"},Pokemon_Hero_Img:{width:"100%",height:"calc(100vh - 188px)"},overlay:{height:"calc(100vh - 188px)",width:"100%",position:"absolute",top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.4)"}}})),$=function(){var e=Y(),t=Object(u.useContext)(g).authUser;return t?Object(E.jsx)(J.a,{to:"/profile/".concat(t)}):Object(E.jsxs)(_.a,{container:!0,className:e.root,children:[Object(E.jsx)("img",{className:e.Pokemon_Hero_Img,src:"https://media.giphy.com/media/8M8OxFRXpLFAI/giphy.gif",alt:"Ash and Pikachu"}),Object(E.jsx)("div",{className:e.overlay})]})},Z=n(48),ee=n(186),te=n(229),ne=Object(te.a)({Pokemon_Search_Form:{marginBottom:"28px"},Pokemon_Searchbox:{background:"transparent",outline:"none",color:"white",border:"0",padding:"5px 5px 8px 5px",borderBottom:"3px solid red",width:"100%",letterSpacing:".1em",boxSizing:"border-box"},Pokemon_Lineup_Heading:{marginBottom:"32px",position:"relative",fontFamily:"'Do Hyeon', sans-serif",letterSpacing:".1em",textAlign:"left","&::after":{content:'""',position:"absolute",bottom:"-23px",left:"0",right:"0",height:"0.5em",width:"65px",borderTop:"5px solid red",zIindex:"-1"}}}),re="FETCH_POKEMON_START",ae="FETCH_POKEMON_SUCCESS",oe="FETCH_POKEMON_FAIL",ce="SELECT_POKEMON",se="DESELECT_POKEMON",ie="UPDATE_POKEMON_QUERY",le=n(107),ue=new(n.n(le).a)({protocol:"https"}),de=function(e){return function(t){t({type:re}),ue.getPokemonByName(e.toLowerCase()).then((function(e){return t({type:ae,pokemon:e})})).catch((function(n){return t(function(e){return{type:oe,query:e}}(e))}))}},je="LOAD_PROFILE_START",pe="LOAD_PROFILE_SUCCESS",be="LOAD_PROFILE_FAIL",me="ADD_POKEMON_TO_LINEUP_START",he="ADD_POKEMON_TO_LINEUP_SUCCESS",Oe="ADD_POKEMON_TO_LINEUP_FAIL",fe="REMOVE_POKEMON_FROM_LINEUP_START",xe="REMOVE_POKEMON_FROM_LINEUP_SUCCESS",ge="REMOVE_POKEMON_FROM_LINEUP_FAIL",ve="UPDATE_PROFILE_START",ke="UPDATE_PROFILE_SUCCESS",_e="UPDATE_PROFILE_START_FAIL";function Pe(e,t,n,r){return e(Object(o.a)({type:t,payload:n},r)),n}var ye=function(){return{type:je}},we=function(){return{type:me}},Ce=function(){return{type:fe}},Le=function(){return{type:ve}},Se=Object(f.a)((function(e){return{Not_Found_Msg:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}}})),Te=function(){var e=Se();return Object(E.jsx)("div",{className:e.Not_Found_Msg,children:Object(E.jsx)("h1",{children:"404, the page you were looking cannot be found."})})},Ee=Object(f.a)({Pokemon_Portrait:{position:"relative",backgroundColor:"antiquewhite",borderRadius:"5px",color:"black",marginBottom:"16px"},Pokemon_Lineup_Number:{position:"absolute",color:"white",backgroundColor:"royalblue",borderRadius:"100%",lineHeight:"24px",width:"24px",left:"8px",top:"8px",fontSize:".7em",fontWeight:"bold"},Pokemon_Lineup_Remove:{position:"absolute",color:"black",borderRadius:"100%",right:"15px",top:"6px",fontWeight:"bold",cursor:"pointer"},Pokemon_Name:{margin:"0",marginTop:"-8px",paddingBottom:"12px",textTransform:"capitalize"}});function Ne(e){var t=e.children,n=Ee();return Object(E.jsx)("div",{className:n.Pokemon_Portrait,children:t})}var Ae=Object(f.a)({loaderText:{letterSpacing:".5em",fontSize:".6em",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",animation:"$pulse .9s ease infinite"},"@keyframes pulse":{"50%":{opacity:0}}}),Fe=function(){var e=Ae();return Object(E.jsx)("div",{children:Object(E.jsx)("span",{className:e.loaderText,children:"PLEASE WAIT"})})},Ie=n(240),Re=Object(f.a)((function(e){return{Pokemon_404_alert_msg:{borderBottomLeftRadius:0,WebkitBorderBottomRightRadius:0},Pokemon_404_img:{backgroundImage:"url(https://media.giphy.com/media/u7nXiwsXFpv8I/giphy.gif)",backgroundSize:"cover",backgroundPosition:"center",height:"352px",backgroundRepeat:"no-repeat"}}})),Ue=function(e){var t=e.pokemonQuery,n=Re();return Object(E.jsxs)(d.a.Fragment,{children:[Object(E.jsx)(Ie.a,{severity:"error",className:n.Pokemon_404_alert_msg,children:Object(E.jsxs)(y.a,{children:["Sorry, the pokemon ",Object(E.jsxs)("strong",{children:["`",t,"`"]})," could not be found."]})}),Object(E.jsx)("div",{className:n.Pokemon_404_img})]})},He=Object(f.a)((function(e){return{root:{position:"relative"},container:{position:"absolute",zIndex:1,width:"100%"}}})),We=function(e){var t=Ee(),n=He(),r=e.fetchedPokemon,a=e.pokemonQuery,o=e.pokemon404,c=e.isLoading,s=e.doSelectPokemon,i=e.doAddPokemon,d=e.clearPokemonQuery,j=Object(u.useState)(null),p=Object(l.a)(j,2),b=p[0],O=p[1];Object(u.useEffect)((function(){c&&O(Object(E.jsx)(Fe,{})),r&&O(Object(E.jsxs)(Ne,{children:[Object(E.jsx)("img",{src:r.sprites.front_default,alt:r.name}),Object(E.jsx)(y.a,{variant:"h6",className:t.Pokemon_Name,children:r.name}),Object(E.jsxs)(m.a,{fullWidth:!0,children:[Object(E.jsx)(h.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:s,children:"Data"}),Object(E.jsx)(h.a,{fullWidth:!0,variant:"contained",color:"secondary",onClick:i,children:"Add to Lineup"})]})]},"PokemonSearchPortrait")),o&&O(Object(E.jsx)(Ue,{pokemonQuery:a}))}),[c,r,o,a,t,i,s]);return Object(E.jsx)("div",{className:n.root,children:Object(E.jsxs)("div",{className:n.container,children:[b&&!c&&Object(E.jsx)(A,{onClose:function(){O(null),d({target:{value:""}})},disableContainer:!0}),b]})})},Me=n(8),De=n(230),Qe=n(231),Be=n(232),ze=n(233),Ke=n(234),Xe=n(235),Ve=n(236),qe=n(226),Ge=Object(f.a)((function(e){return{cardRoot:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center",width:"40%"},listItemRoot:{padding:0},uppercase:{textTransform:"uppercase"}}})),Je=function(e){var t=Ge(),n=e.selectedPokemon,r=e.deselectPokemon,a=null;if(n){var o=n,c=o.types.map((function(e,t,n){return n.length-1===t?Object(E.jsx)(y.a,{variant:"inherit",children:Object(E.jsx)("strong",{children:Object(Me.a)(e.type.name)})},t):Object(E.jsxs)(y.a,{variant:"inherit",children:[Object(E.jsx)("strong",{children:Object(Me.a)(e.type.name)}),",\xa0"]},t)})),s=o.abilities.map((function(e,t,n){return n.length-1===t?Object(E.jsx)(y.a,{variant:"inherit",children:Object(E.jsx)("strong",{children:Object(Me.a)(e.ability.name)})},t):Object(E.jsxs)(y.a,{variant:"inherit",children:[Object(E.jsx)("strong",{children:Object(Me.a)(e.ability.name)}),",\xa0"]},t)})),i=o.stats.slice(0).map((function(e,n){return Object(E.jsx)(De.a,{classes:{root:t.listItemRoot},children:Object(E.jsxs)(Qe.a,{disableTypography:!0,classes:{root:t.uppercase},children:[Object(E.jsxs)("strong",{children:[e.stat.name,":"]})," ",Object(E.jsx)(y.a,{variant:"inherit",children:e.base_stat})]})},n)}));a=Object(E.jsx)(k.a,{open:!!n,onClose:r,children:Object(E.jsx)(Be.a,{className:t.cardRoot,children:Object(E.jsxs)("div",{style:{position:"relative",padding:"32px"},children:[Object(E.jsx)("img",{src:o.sprites.front_default,alt:o.name}),Object(E.jsx)(A,{onClose:r}),Object(E.jsx)(y.a,{variant:"h3",children:Object(Me.a)(o.name)}),Object(E.jsx)(ze.a,{}),Object(E.jsxs)(Ke.a,{children:[Object(E.jsxs)(Xe.a,{children:[Object(E.jsx)(Ve.a,{variant:"head",children:"Type(s)"}),Object(E.jsx)(Ve.a,{children:c})]}),Object(E.jsxs)(Xe.a,{children:[Object(E.jsx)(Ve.a,{variant:"head",children:"Abilities"}),Object(E.jsx)(Ve.a,{children:s})]}),Object(E.jsxs)(Xe.a,{children:[Object(E.jsx)(Ve.a,{variant:"head",children:"Stats"}),Object(E.jsx)(Ve.a,{children:Object(E.jsx)(qe.a,{children:i})})]})]})]})})})}return a},Ye=Object(f.a)((function(e){return{cardRoot:{backgroundColor:"yellowgreen",color:"white",padding:e.spacing(4),borderRadius:e.spacing(1)}}})),$e=function(e){var t=Ye(),n=Ee(),r=e.isAuthProfile,a=e.pokemonLineup,o=e.doRemovePokemon;return a&&0===a.length?Object(E.jsx)(_.a,{container:!0,children:Object(E.jsx)(_.a,{item:!0,xs:12,children:Object(E.jsx)(Be.a,{className:t.cardRoot,children:Object(E.jsx)(y.a,{children:"Search for pokemon to add to your lineup. Maximum (6)."})})})}):Object(E.jsx)(_.a,{container:!0,spacing:1,children:a&&a.map((function(e,t){return Object(E.jsx)(_.a,{item:!0,xs:12,md:4,children:Object(E.jsxs)(Ne,{children:[Object(E.jsx)("span",{className:n.Pokemon_Lineup_Number,children:t+1}),r&&Object(E.jsx)(A,{disableContainer:!0,title:"Remove "+Object(Me.a)(e.name),onClose:function(){return o(e)}}),Object(E.jsx)("img",{src:e.sprites.front_default,alt:e.name}),Object(E.jsx)(y.a,{variant:"body1",className:n.Pokemon_Name,children:Object(E.jsx)("strong",{children:e.name})})]},"".concat(t+1))},e.id)}))})},Ze=n(108),et=n.n(Ze),tt=Object(u.createContext)(null),nt={username:"",first_name:"",middle_name:"",last_name:"",email:"",gender:"",password:"",confirm_password:""},rt=Object(f.a)((function(e){return{root:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",padding:e.spacing(3),width:"50%",maxWidth:"50%"}}})),at=function(e){var t=e.close,n=e.doUpdateProfile,r=rt(),a=Object(Z.c)((function(e){return e.userProfile.user})),c=Object(u.useContext)(g).authUser,d=Object(u.useContext)(tt).setSnackbar,j=Object(u.useState)(nt),p=Object(l.a)(j,2),b=p[0],m=p[1],O=Object(u.useState)(nt),f=Object(l.a)(O,2),x=f[0],C=f[1];Object(u.useEffect)((function(){var e=Object(o.a)(Object(o.a)({},b),a);m(e)}),[a]);var L=function(e){m(Object(o.a)(Object(o.a)({},b),{},Object(v.a)({},e.target.name,e.target.value)))},S=b.confirm_password!==b.password,T=function(){var e=Object(i.a)(s.a.mark((function e(t){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,H.updateProfile(c,b);case 4:r=e.sent,d({message:r.data.message}),n(r.data),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0),e.t0.response.data.errors&&C(Object(o.a)(Object(o.a)({},x),e.t0.response.data.errors));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsx)(k.a,{open:!0,onClose:t,children:Object(E.jsx)("form",{onSubmit:T,children:Object(E.jsxs)(_.a,{container:!0,component:P.a,spacing:3,className:r.root,children:[Object(E.jsx)(_.a,{item:!0,xs:12,children:Object(E.jsx)(y.a,{variant:"h3",children:"Edit Profile"})}),Object(E.jsx)(_.a,{item:!0,xs:6,children:Object(E.jsx)(w.a,{autoFocus:!0,variant:"outlined",type:"text",placeholder:"Username",value:b.username,fullWidth:!0,name:"username",onChange:L,error:""!==x.username,helperText:x.username})}),Object(E.jsx)(_.a,{item:!0,xs:6,children:Object(E.jsx)(w.a,{variant:"outlined",type:"email",placeholder:"Email",value:b.email,fullWidth:!0,name:"email",onChange:L,error:""!==x.email,helperText:x.email})}),Object(E.jsx)(_.a,{item:!0,xs:4,children:Object(E.jsx)(w.a,{variant:"outlined",type:"text",placeholder:"First Name",value:b.first_name,fullWidth:!0,name:"first_name",onChange:L,error:""!==x.first_name,helperText:x.first_name})}),Object(E.jsx)(_.a,{item:!0,xs:4,children:Object(E.jsx)(w.a,{variant:"outlined",type:"text",placeholder:"Middle Name",value:b.middle_name,fullWidth:!0,name:"middle_name",onChange:L})}),Object(E.jsx)(_.a,{item:!0,xs:4,children:Object(E.jsx)(w.a,{variant:"outlined",type:"text",placeholder:"Last Name",value:b.last_name,fullWidth:!0,name:"last_name",onChange:L,error:""!==x.last_name,helperText:x.last_name})}),Object(E.jsx)(_.a,{item:!0,xs:12,children:Object(E.jsx)(w.a,{variant:"outlined",type:"password",placeholder:"Password",value:b.password,fullWidth:!0,name:"password",onChange:L,error:""!==x.password,helperText:x.password})}),Object(E.jsx)(_.a,{item:!0,xs:12,children:Object(E.jsx)(w.a,{variant:"outlined",type:"password",placeholder:"Confirm Password",value:b.confirm_password,fullWidth:!0,name:"confirm_password",onChange:L,error:""!==x.confirm_password||S,helperText:x.confirm_password?x.confirm_password:S?"Passwords do not match":null})}),Object(E.jsx)(_.a,{item:!0,xs:12,children:Object(E.jsx)(h.a,{type:"submit",color:"primary",fullWidth:!0,variant:"contained",onClick:T,disabled:function(){switch(!0){case a.username!==b.username:case a.email!==b.email:case a.first_name!==b.first_name:case a.middle_name!==b.middle_name:case a.last_name!==b.last_name:case""!==b.password&&!S:return!1;default:return!0}}(),children:"Update"})}),Object(E.jsx)(A,{onClose:t})]})})})},ot=Object(b.a)((function(e){return{root:{position:"relative",padding:"24px",textAlign:"left"},Name_Heading:{marginBottom:"32px",position:"relative",fontFamily:"'Do Hyeon', sans-serif",letterSpacing:".1em",textAlign:"left","&::after":{content:'""',position:"absolute",bottom:"-23px",left:"0",right:"0",height:"0.5em",width:"65px",borderTop:"5px solid red",zIindex:"-1"}},edit_profile_btn:{position:"absolute",top:"24px",right:"24px"}}})),ct=function(e){var t=e.isAuthProfile,n=e.user,r=e.doUpdateProfile,a=ot(),o=Object(u.useState)(null),c=Object(l.a)(o,2),s=c[0],i=c[1];return n?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(Be.a,{className:a.root,children:[Object(E.jsx)(y.a,{variant:"h4",className:a.Name_Heading,children:"".concat(n.first_name," ").concat(n.last_name)}),t&&Object(E.jsx)(h.a,{variant:"outlined",color:"primary",className:a.edit_profile_btn,onClick:function(){return i(Object(E.jsx)(at,{doUpdateProfile:r,close:function(){return i(null)}}))},children:"Edit Profile"}),Object(E.jsxs)(y.a,{variant:"body1",children:[Object(E.jsx)("strong",{children:"Username: "}),n.username]}),Object(E.jsxs)(y.a,{variant:"body1",children:[Object(E.jsx)("strong",{children:"Gender: "}),"m"===n.gender?"Male":"Female"]}),Object(E.jsxs)(y.a,{variant:"body1",children:[Object(E.jsx)("strong",{children:"Age: "}),et()().diff(n.birthdate,"years")]})]}),s]}):null},st=Object(Z.b)((function(e){return{pokeAPI:{fetchedPokemon:e.pokeAPI.fetchedPokemon,pokemon404:e.pokeAPI.pokemon404,selectedPokemon:e.pokeAPI.selectedPokemon,isLoading:e.pokeAPI.isLoading,pokemonQuery:e.pokeAPI.pokemonQuery},userProfile:{user:e.userProfile.user,isAuthProfile:e.userProfile.isAuthProfile,isProfile404:e.userProfile.isProfile404,isLoading:e.userProfile.isLoading,error:e.userProfile.error}}}),(function(e){return{doFetchPokemonHandler:function(t){return e(de(t))},doSelectPokemonHandler:function(t){return e(function(e){return{type:ce,pokemon:e}}(t))},doDeselectPokemonHandler:function(){return e({type:se})},doUpdatePokemonQueryHandler:function(t){return e(function(e){return{type:ie,pokemonQuery:e.target.value}}(t))},doLoadProfileHandler:function(t,n){return e(function(e,t){return function(){var n=Object(i.a)(s.a.mark((function n(r){var a;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(ye()),n.prev=1,n.next=4,H.getProfile(t);case 4:a=n.sent,Pe(r,pe,a.data,{isAuthProfile:e===t}),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(1),console.error(n.t0.response.data),Pe(r,be,n.t0);case 12:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(e){return n.apply(this,arguments)}}()}(t,n))},doAddPokemonToLineupHandler:function(t,n,r){return e(function(e,t,n){return function(){var r=Object(i.a)(s.a.mark((function r(a){var o,c;return s.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a(we()),o={pokemonLineup:n.concat(t)},r.prev=2,r.next=5,H.updateProfile(e,o);case 5:c=r.sent,Pe(a,he,c.data),r.next=13;break;case 9:r.prev=9,r.t0=r.catch(2),console.log(r.t0.response.data),Pe(a,Oe,r.t0);case 13:case"end":return r.stop()}}),r,null,[[2,9]])})));return function(e){return r.apply(this,arguments)}}()}(t,n,r))},doRemovePokemonFromLineupHandler:function(t,n,r){return e(function(e,t,n){return function(){var r=Object(i.a)(s.a.mark((function r(a){var o,c;return s.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a(Ce()),o={pokemonLineup:n.filter((function(e){return e.id!==t.id}))},r.prev=2,r.next=5,H.updateProfile(e,o);case 5:c=r.sent,Pe(a,xe,c.data),r.next=13;break;case 9:r.prev=9,r.t0=r.catch(2),console.log(r.t0.response.data),Pe(a,ge,r.t0);case 13:case"end":return r.stop()}}),r,null,[[2,9]])})));return function(e){return r.apply(this,arguments)}}()}(t,n,r))},doUpdateProfileHandler:function(t,n){return e(function(e,t){return function(){var e=Object(i.a)(s.a.mark((function e(n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(Le());try{Pe(n,ke,t)}catch(r){console.log(r.response.data),Pe(n,_e,r)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(0,n))}}}))(Object(ee.a)(ne)((function(e){var t=e.authUser,n=e.classes,r=e.doAddPokemonToLineupHandler,a=e.doFetchPokemonHandler,o=e.doRemovePokemonFromLineupHandler,c=e.doSelectPokemonHandler,s=e.doDeselectPokemonHandler,i=e.doUpdatePokemonQueryHandler,l=e.doLoadProfileHandler,d=e.doUpdateProfileHandler,j=e.userProfile,p=j.user,b=j.isProfile404,m=j.isAuthProfile,h=e.pokeAPI,O=h.selectedPokemon,f=h.isLoading,x=h.fetchedPokemon,g=h.pokemon404,v=h.pokemonQuery,k=e.history,P=e.match.params.id;Object(u.useEffect)((function(){t?l(t,P):k.push("/")}),[t,P]);return Object(E.jsx)(E.Fragment,{children:b?Object(E.jsx)(Te,{}):p?Object(E.jsxs)("div",{style:{padding:"30px"},children:[Object(E.jsxs)(_.a,{container:!0,spacing:6,children:[Object(E.jsx)(_.a,{item:!0,xs:6,children:Object(E.jsx)(ct,{user:p,isAuthProfile:m,doUpdateProfile:function(e){return d(t,e)}})}),m&&Object(E.jsxs)(_.a,{item:!0,xs:6,children:[Object(E.jsx)("form",{className:n.Pokemon_Search_Form,onSubmit:function(e){e.preventDefault(),""!==v?a(v):alert("Please type in a pokemon name.")},children:Object(E.jsx)("input",{className:n.Pokemon_Searchbox,type:"text",name:"query",placeholder:"Search Pokemon (e.g. Pikachu and press enter)",value:v,onChange:i})}),Object(E.jsx)(We,{isLoading:f,fetchedPokemon:x,pokemon404:g,pokemonQuery:v,clearPokemonQuery:i,doSelectPokemon:function(){return x&&c(x)},doAddPokemon:function(){if(p&&x){var e=p.pokemonLineup;void 0!==e.find((function(e){return e.id===x.id}))?alert(x.name+" is already in the lineup."):x&&e.length<6?r(t,x,e):alert("Pokemon lineup spots are filled.")}}})]}),Object(E.jsxs)(_.a,{item:!0,xs:6,children:[Object(E.jsx)(y.a,{variant:"h4",className:n.Pokemon_Lineup_Heading,children:"Pokemon Lineup"}),Object(E.jsx)($e,{isAuthProfile:m,pokemonLineup:p.pokemonLineup,doRemovePokemon:function(e){return o(t,e,p.pokemonLineup)}})]})]}),Object(E.jsx)(Je,{selectedPokemon:O,deselectPokemon:s})]}):Object(E.jsx)(Fe,{})})}))),it=n(237),lt=n(251);var ut=function(e){var t=e.authUser,n=e.history,r=Object(u.useState)(null),a=Object(l.a)(r,2),o=a[0],c=a[1];return Object(u.useEffect)((function(){(function(){var e=Object(i.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=11;break}return e.prev=1,e.next=4,H.getTrainers();case 4:n=e.sent,c(n.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}})()()}),[t]),o?Object(E.jsx)("div",{style:{padding:"30px"},children:Object(E.jsx)(qe.a,{component:Be.a,children:o.map((function(e,t){return Object(E.jsxs)(De.a,{divider:!0,children:[Object(E.jsx)(it.a,{children:Object(E.jsx)(lt.a,{children:t+1})}),Object(E.jsx)(Qe.a,{primary:Object(E.jsx)(y.a,{variant:"h5",children:"".concat(e.first_name," ").concat(e.last_name)}),secondary:"@".concat(e.username)}),Object(E.jsx)(h.a,{variant:"outlined",onClick:function(){return n.push("/profile/".concat(e._id))},children:"VIEW"})]},e._id)}))})}):Object(E.jsx)(Fe,{})},dt=n(246);function jt(e){return Object(E.jsx)(Ie.a,Object(o.a)({elevation:6,variant:"filled"},e))}var pt=Object(f.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}})),bt=function(e){var t=e.snackbar,n=e.onClose,r=pt();return Object(E.jsx)("div",{className:r.root,children:Object(E.jsx)(dt.a,{open:!0,anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:6e3,onClose:n,children:Object(E.jsx)(jt,{onClose:n,severity:t.severity,children:t.message})})})},mt=Object(b.a)({App:{textAlign:"center",height:"100%"},loader:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}}),ht=function(){var e=mt(),t=Object(u.useState)(null),n=Object(l.a)(t,2),r=n[0],a=n[1],c=Object(u.useState)(null),d=Object(l.a)(c,2),b=d[0],m=d[1],h=Object(u.useState)(!0),O=Object(l.a)(h,2),f=O[0],x=O[1];return Object(u.useEffect)((function(){var e=function(){var e=Object(i.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.getCSRFToken();case 2:t=e.sent,n=t.data,R.a.defaults.headers.post["X-CSRF-Token"]=n.csrfToken,R.a.defaults.headers.patch["X-CSRF-Token"]=n.csrfToken;case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(i.a)(s.a.mark((function e(){var t,n,r,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H.checkIsLoggedIn();case 3:t=e.sent,a(t.data.user),x(!1),e.next=17;break;case 8:if(e.prev=8,e.t0=e.catch(0),n=e.t0.response,r=e.t0.response,r.data,o=r.data.error,console.error(o),!(o&&o.errors&&o.errors.TokenExpiredError)){e.next=15;break}return alert("Token expired. Please login again"),e.abrupt("return");case 15:500===n.status&&m({severity:"error",message:"Internal server error"}),x(!1);case 17:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e(),t()}),[]),Object(E.jsx)("div",{className:e.App,children:f?Object(E.jsx)(Fe,{}):Object(E.jsxs)(tt.Provider,{value:{snackbar:b,setSnackbar:m},children:[Object(E.jsxs)(g.Provider,{value:{authUser:r,setAuthUser:a},children:[Object(E.jsx)(G,{}),Object(E.jsxs)(j.a,{children:[Object(E.jsx)(p.a,{path:"/profile/:id",render:function(e){return Object(E.jsx)(st,Object(o.a)({authUser:r},e))}}),Object(E.jsx)(p.a,{path:"/trainers",render:function(e){return Object(E.jsx)(ut,Object(o.a)({authUser:r},e))}}),Object(E.jsx)(p.a,{path:"/",exact:!0,component:$}),Object(E.jsx)(p.a,{path:"*",component:Te})]})]}),b&&Object(E.jsx)(bt,{snackbar:b,onClose:function(){return m(null)}})]})})},Ot=n(245),ft=n(58),xt=n(109),gt=n(110),vt=["base_experience","forms","game_indices","held_items","is_default","location_area_encounters","order","past_types"],kt={fetchedPokemon:null,pokemon404:!1,selectedPokemon:null,isLoading:!1,pokemonQuery:""},_t={user:null,isAuthProfile:!1,isProfile404:!1,isLoading:!1,error:""},Pt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,252)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),o(e),c(e)}))};R.a.defaults.headers.post["Content-Type"]="application/json";var yt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ft.c,wt=Object(ft.b)({pokeAPI:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re:return Object(o.a)(Object(o.a)({},e),{},{isLoading:!0,selectedPokemon:null});case ae:var n=t.pokemon,r=(n.base_experience,n.forms,n.game_indices,n.held_items,n.is_default,n.location_area_encounters,n.order,n.past_types,Object(gt.a)(n,vt));return Object(o.a)(Object(o.a)({},e),{},{fetchedPokemon:r,pokemon404:!1,isLoading:!1});case oe:return Object(o.a)(Object(o.a)({},e),{},{fetchedPokemon:null,pokemon404:!0,isLoading:!1});case ce:return Object(o.a)(Object(o.a)({},e),{},{selectedPokemon:t.pokemon});case se:return Object(o.a)(Object(o.a)({},e),{},{selectedPokemon:null});case ie:return""===t.pokemonQuery?Object(o.a)(Object(o.a)({},e),{},{pokemonQuery:t.pokemonQuery,fetchedPokemon:null,pokemon404:!1}):Object(o.a)(Object(o.a)({},e),{},{pokemonQuery:t.pokemonQuery});default:return e}},userProfile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_t,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case je:return Object(o.a)(Object(o.a)({},e),{},{isLoading:!0,user:null});case pe:return Object(o.a)(Object(o.a)({},e),{},{user:t.payload,isAuthProfile:t.isAuthProfile,isLoading:!1,isProfile404:!1});case be:return Object(o.a)(Object(o.a)({},e),{},{user:null,error:t.payload,isLoading:!1,isProfile404:!0});case me:return Object(o.a)(Object(o.a)({},e),{},{isLoading:!0});case he:return Object(o.a)(Object(o.a)({},e),{},{user:Object(o.a)(Object(o.a)({},e.user),t.payload.user),isLoading:!1});case Oe:return Object(o.a)(Object(o.a)({},e),{},{error:t.payload,isLoading:!1});case fe:return Object(o.a)(Object(o.a)({},e),{},{isLoading:!0});case xe:return Object(o.a)(Object(o.a)({},e),{},{user:Object(o.a)(Object(o.a)({},e.user),t.payload.user),isLoading:!1});case ge:return Object(o.a)(Object(o.a)({},e),{},{error:t.payload,isLoading:!1});case ve:return Object(o.a)(Object(o.a)({},e),{},{isLoading:!0});case ke:return Object(o.a)(Object(o.a)({},e),{},{user:Object(o.a)(Object(o.a)({},e.user),t.payload.user),isLoading:!1});case _e:return Object(o.a)(Object(o.a)({},e),{},{error:t.payload,isLoading:!1});default:return e}}}),Ct=Object(ft.d)(wt,yt(Object(ft.a)(xt.a)));a.a.render(Object(E.jsx)(Z.a,{store:Ct,children:Object(E.jsx)(Ot.a,{basename:"/pokemon-league/",children:Object(E.jsx)(ht,{})})}),document.getElementById("root")),Pt()}},[[185,1,2]]]);
//# sourceMappingURL=main.da779642.chunk.js.map