{"ast":null,"code":"var _jsxFileName = \"/Users/cris/Code/pokemon-league/src/components/SignUp/SignUp.tsx\",\n    _s = $RefreshSig$();\n\nimport { useContext, useState } from 'react';\nimport { Button, Grid, FormLabel, FormControlLabel, Modal, Paper, Radio, TextField, Typography, RadioGroup } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CloseButton from '../UI/CloseButton/CloseButton';\nimport { withRouter } from 'react-router-dom';\nimport AuthUserContext from '../../context/AuthUserContext';\nimport { ApiManager } from '../../helpers/ApiManager';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialSignUpData = {\n  username: '',\n  first_name: '',\n  middle_name: '',\n  last_name: '',\n  email: '',\n  birthdate: '',\n  gender: '',\n  password: '',\n  confirm_password: ''\n};\nconst useStyles = makeStyles(theme => ({\n  root: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)',\n    padding: theme.spacing(3),\n    width: '50%',\n    maxWidth: '50%'\n  }\n}));\n\nconst SignUp = ({\n  close,\n  history\n}) => {\n  _s();\n\n  // vairables\n  const classes = useStyles();\n  const {\n    setAuthUser\n  } = useContext(AuthUserContext); // state\n\n  const [signUpData, setSignUpData] = useState(initialSignUpData);\n  const [errors, setErrors] = useState(initialSignUpData); // functions\n\n  const onChangeHandler = e => {\n    setSignUpData({ ...signUpData,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const isSubmitDisabled = () => {\n    switch (true) {\n      case signUpData.username === \"\":\n        return true;\n\n      case signUpData.email === \"\":\n        return true;\n\n      case signUpData.first_name === \"\":\n        return true;\n\n      case signUpData.last_name === \"\":\n        return true;\n\n      case signUpData.birthdate === \"\":\n        return true;\n\n      case signUpData.gender === \"\":\n        return true;\n\n      case signUpData.password === \"\":\n        return true;\n\n      case signUpData.confirm_password === \"\":\n        return true;\n\n      case passwordsDoNotMatch:\n        return true;\n\n      default:\n        return false;\n    }\n  };\n\n  const passwordsDoNotMatch = signUpData.confirm_password !== signUpData.password;\n\n  const onSubmitHandler = async () => {\n    try {\n      const response = await ApiManager.signUp(signUpData);\n      close();\n      setAuthUser(response.data.user);\n      history.push(`/profile/${response.data.user}`);\n    } catch (error) {\n      console.error(error);\n\n      if (error.response.data.errors) {\n        setErrors({ ...errors,\n          ...error.response.data.errors\n        });\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    open: true,\n    onClose: close,\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: onSubmitHandler,\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        component: Paper,\n        spacing: 3,\n        className: classes.root,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h3\",\n            children: \"Sign Up\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 6,\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            autoFocus: true,\n            variant: \"outlined\",\n            type: \"text\",\n            placeholder: \"Username\",\n            fullWidth: true,\n            name: \"username\",\n            onChange: onChangeHandler,\n            error: errors.username !== \"\",\n            helperText: errors.username\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 6,\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            variant: \"outlined\",\n            type: \"email\",\n            placeholder: \"Email\",\n            fullWidth: true,\n            name: \"email\",\n            onChange: onChangeHandler,\n            error: errors.email !== \"\",\n            helperText: errors.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 4,\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            variant: \"outlined\",\n            type: \"text\",\n            placeholder: \"First Name\",\n            fullWidth: true,\n            name: \"first_name\",\n            onChange: onChangeHandler,\n            error: errors.first_name !== \"\",\n            helperText: errors.first_name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 4,\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            variant: \"outlined\",\n            type: \"text\",\n            placeholder: \"Middle Name\",\n            fullWidth: true,\n            name: \"middle_name\",\n            onChange: onChangeHandler\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 4,\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            variant: \"outlined\",\n            type: \"text\",\n            placeholder: \"Last Name\",\n            fullWidth: true,\n            name: \"last_name\",\n            onChange: onChangeHandler,\n            error: errors.last_name !== \"\",\n            helperText: errors.last_name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 8,\n          children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n            children: \"Birthdate\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            variant: \"outlined\",\n            id: \"birthdate\",\n            type: \"date\",\n            fullWidth: true,\n            name: \"birthdate\",\n            onChange: onChangeHandler,\n            error: errors.birthdate !== \"\",\n            helperText: errors.birthdate\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 4,\n          children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n            children: \"Gender\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(RadioGroup, {\n            children: /*#__PURE__*/_jsxDEV(Grid, {\n              container: true,\n              children: [/*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 6,\n                children: /*#__PURE__*/_jsxDEV(FormControlLabel, {\n                  value: \"end\",\n                  control: /*#__PURE__*/_jsxDEV(Radio, {\n                    id: \"m\",\n                    value: \"m\",\n                    className: \"radio\",\n                    name: \"gender\",\n                    checked: signUpData.gender === 'm',\n                    onChange: onChangeHandler\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 191,\n                    columnNumber: 23\n                  }, this),\n                  label: \"Male\",\n                  labelPlacement: \"end\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 188,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 6,\n                children: /*#__PURE__*/_jsxDEV(FormControlLabel, {\n                  value: \"end\",\n                  control: /*#__PURE__*/_jsxDEV(Radio, {\n                    id: \"f\",\n                    value: \"f\",\n                    className: \"radio\",\n                    name: \"gender\",\n                    checked: signUpData.gender === 'f',\n                    onChange: onChangeHandler\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 208,\n                    columnNumber: 25\n                  }, this),\n                  label: \"Female\",\n                  labelPlacement: \"end\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 205,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 204,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                className: \"MuiFormHelperText-root MuiFormHelperText-contained Mui-error\",\n                variant: \"caption\",\n                children: errors.gender\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            variant: \"outlined\",\n            type: \"password\",\n            placeholder: \"Password\",\n            fullWidth: true,\n            name: \"password\",\n            onChange: onChangeHandler,\n            error: errors.password !== \"\",\n            helperText: errors.password\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            variant: \"outlined\",\n            type: \"password\",\n            placeholder: \"Confirm Password\",\n            fullWidth: true,\n            name: \"confirm_password\",\n            onChange: onChangeHandler,\n            error: errors.confirm_password !== \"\" || passwordsDoNotMatch,\n            helperText: errors.confirm_password ? errors.confirm_password : passwordsDoNotMatch ? 'Passwords do not match' : null\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            color: \"primary\",\n            fullWidth: true,\n            variant: \"contained\",\n            onClick: onSubmitHandler,\n            disabled: isSubmitDisabled(),\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CloseButton, {\n          onClose: close\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 102,\n    columnNumber: 5\n  }, this);\n};\n\n_s(SignUp, \"N22T2qORQwE4ZKyFFCXwtJK7Qs0=\", false, function () {\n  return [useStyles];\n});\n\n_c = SignUp;\nexport default _c2 = withRouter(SignUp);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"SignUp\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["/Users/cris/Code/pokemon-league/src/components/SignUp/SignUp.tsx"],"names":["useContext","useState","Button","Grid","FormLabel","FormControlLabel","Modal","Paper","Radio","TextField","Typography","RadioGroup","makeStyles","CloseButton","withRouter","AuthUserContext","ApiManager","initialSignUpData","username","first_name","middle_name","last_name","email","birthdate","gender","password","confirm_password","useStyles","theme","root","position","top","left","transform","padding","spacing","width","maxWidth","SignUp","close","history","classes","setAuthUser","signUpData","setSignUpData","errors","setErrors","onChangeHandler","e","target","name","value","isSubmitDisabled","passwordsDoNotMatch","onSubmitHandler","response","signUp","data","user","push","error","console"],"mappings":"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","sourcesContent":["import { ChangeEvent, useContext, useState } from 'react';\nimport { Button, Grid, FormLabel, FormControlLabel, Modal, Paper, Radio, TextField, Typography, Theme, RadioGroup } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CloseButton from '../UI/CloseButton/CloseButton';\nimport { RouteComponentProps, withRouter } from 'react-router-dom';\nimport AuthUserContext from '../../context/AuthUserContext';\nimport { USER } from '../../types';\nimport { ApiManager } from '../../helpers/ApiManager';\nimport { AUTHUSERCONTEXT } from '../../types/index';\n\ninterface PROPS extends RouteComponentProps {\n  close: () => void\n}\n\ninterface SIGNUP_DATA extends Partial<USER> {\n  confirm_password: string\n}\n\nconst initialSignUpData: SIGNUP_DATA = {\n  username: '',\n  first_name: '',\n  middle_name: '',\n  last_name: '',\n  email: '',\n  birthdate: '',\n  gender: '',\n  password: '',\n  confirm_password: ''\n}\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  root: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)',\n    padding: theme.spacing(3),\n    width: '50%',\n    maxWidth: '50%'\n  }\n}));\n\nconst SignUp = ({ close, history }: PROPS ) => {\n  // vairables\n  const classes = useStyles();\n  const { setAuthUser } = useContext(AuthUserContext) as AUTHUSERCONTEXT;\n\n  // state\n  const [signUpData, setSignUpData] = useState<SIGNUP_DATA>(initialSignUpData);\n  const [errors, setErrors] = useState<SIGNUP_DATA>(initialSignUpData);\n  \n  // functions\n  const onChangeHandler = (e: ChangeEvent<HTMLInputElement>): void => {\n    setSignUpData({\n      ...signUpData,\n      [e.target.name]: e.target.value\n    })\n  }\n\n  const isSubmitDisabled = () => {\n    switch (true) {\n      case signUpData.username === \"\":\n        return true;\n      case signUpData.email === \"\":\n        return true;\n      case signUpData.first_name === \"\":\n        return true;\n      case signUpData.last_name === \"\":\n        return true;\n      case signUpData.birthdate === \"\":\n        return true;\n      case signUpData.gender === \"\":\n        return true;\n      case signUpData.password === \"\":\n        return true;\n      case signUpData.confirm_password === \"\":\n        return true;\n      case passwordsDoNotMatch:\n        return true;\n      default:\n        return false;\n    }\n  }\n\n  const passwordsDoNotMatch = signUpData.confirm_password !== signUpData.password;\n\n  const onSubmitHandler = async () => {\n    try {\n      const response: any = await ApiManager.signUp(signUpData);\n      close();\n      setAuthUser(response.data.user);\n      history.push(`/profile/${response.data.user}`);\n    } catch(error: any) {\n      console.error(error);\n      if(error.response.data.errors) {\n        setErrors({...errors, ...error.response.data.errors});\n      }\n    }\n  }\n\n  return (\n    <Modal\n      open\n      onClose={close}\n    >\n      <form onSubmit={onSubmitHandler}>\n        <Grid container component={Paper} spacing={3} className={classes.root}>\n          <Grid item xs={12}>\n            <Typography variant={\"h3\"}>Sign Up</Typography>\n          </Grid>\n          <Grid item xs={6}>\n            <TextField\n              autoFocus\n              variant={\"outlined\"} \n              type=\"text\" \n              placeholder=\"Username\"\n              fullWidth\n              name=\"username\"\n              onChange={onChangeHandler} \n              error={errors.username !== \"\"}\n              helperText={errors.username}\n            />\n          </Grid>\n          <Grid item xs={6}>\n            <TextField\n              variant={\"outlined\"} \n              type=\"email\" \n              placeholder=\"Email\" \n              fullWidth \n              name=\"email\"\n              onChange={onChangeHandler}\n              error={errors.email !== \"\"}\n              helperText={errors.email}\n            />\n          </Grid>\n          <Grid item xs={4}>\n            <TextField\n              variant={\"outlined\"} \n              type=\"text\" \n              placeholder=\"First Name\" \n              fullWidth \n              name=\"first_name\"\n              onChange={onChangeHandler}\n              error={errors.first_name !== \"\"}\n              helperText={errors.first_name}\n            />\n          </Grid>\n          <Grid item xs={4}>\n            <TextField\n              variant={\"outlined\"} \n              type=\"text\" \n              placeholder=\"Middle Name\" \n              fullWidth \n              name=\"middle_name\"\n              onChange={onChangeHandler}\n            />\n          </Grid>\n          <Grid item xs={4}>\n            <TextField\n              variant={\"outlined\"} \n              type=\"text\" \n              placeholder=\"Last Name\" \n              fullWidth\n              name=\"last_name\"\n              onChange={onChangeHandler} \n              error={errors.last_name !== \"\"}\n              helperText={errors.last_name}\n            />\n          </Grid>\n          <Grid item xs={8}>\n            <FormLabel>Birthdate</FormLabel>\n            <TextField\n              variant={\"outlined\"} \n              id=\"birthdate\" \n              type=\"date\" \n              fullWidth \n              name=\"birthdate\"\n              onChange={onChangeHandler}\n              error={errors.birthdate !== \"\"}\n              helperText={errors.birthdate}\n            />\n          </Grid>\n          <Grid item xs={4}>\n            <FormLabel>Gender</FormLabel>\n            <RadioGroup>\n              <Grid container>\n                <Grid item xs={6}>\n                  <FormControlLabel\n                    value=\"end\"\n                    control={\n                      <Radio\n                        id=\"m\"\n                        value=\"m\" \n                        className=\"radio\"\n                        name=\"gender\"\n                        checked={signUpData.gender === 'm'}\n                        onChange={onChangeHandler}\n                      />\n                    }\n                    label=\"Male\"\n                    labelPlacement=\"end\"\n                  />\n                </Grid>\n                <Grid item xs={6}>\n                  <FormControlLabel\n                      value=\"end\"\n                      control={\n                        <Radio\n                          id=\"f\"\n                          value=\"f\" \n                          className=\"radio\" \n                          name=\"gender\"\n                          checked={signUpData.gender === 'f'}\n                          onChange={onChangeHandler}\n                        />\n                      }\n                      label=\"Female\"\n                      labelPlacement=\"end\"\n                    />\n                </Grid>\n                <Typography className={\"MuiFormHelperText-root MuiFormHelperText-contained Mui-error\"} variant={\"caption\"}>{errors.gender}</Typography>\n              </Grid>\n            </RadioGroup>\n          </Grid>\n          <Grid item xs={12}>\n            <TextField\n              variant={\"outlined\"} \n              type=\"password\"  \n              placeholder=\"Password\" \n              fullWidth \n              name=\"password\"\n              onChange={onChangeHandler}\n              error={errors.password !== \"\"}\n              helperText={errors.password}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <TextField \n              variant={\"outlined\"}\n              type=\"password\"  \n              placeholder=\"Confirm Password\" \n              fullWidth \n              name=\"confirm_password\"\n              onChange={onChangeHandler}\n              error={errors.confirm_password !== \"\" || passwordsDoNotMatch}\n              helperText={errors.confirm_password ? errors.confirm_password : passwordsDoNotMatch ? 'Passwords do not match' : null}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <Button \n              color={\"primary\"} \n              fullWidth \n              variant={\"contained\"} \n              onClick={onSubmitHandler}\n              disabled={isSubmitDisabled()}\n            >\n              Submit\n            </Button>\n          </Grid>\n          <CloseButton onClose={close} />\n        </Grid>\n      </form>\n    </Modal>\n  )\n}\n\nexport default withRouter(SignUp);\n"]},"metadata":{},"sourceType":"module"}