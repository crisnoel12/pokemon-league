{"ast":null,"code":"var _jsxFileName = \"/Users/cris/Code/pokemon-league/src/components/Login/Login.tsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useContext } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { Button, Grid, Modal, Paper, TextField, Typography, makeStyles } from '@material-ui/core';\nimport AuthUserContext from '../../context/AuthUserContext';\nimport CloseButton from '../UI/CloseButton/CloseButton';\nimport { ApiManager } from '../../helpers/ApiManager';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialLoginData = {\n  email: '',\n  password: ''\n};\nconst useStyles = makeStyles(theme => ({\n  root: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)',\n    padding: theme.spacing(3),\n    width: '50%',\n    maxWidth: '50%'\n  }\n}));\n\nconst Login = ({\n  close,\n  history\n}) => {\n  _s();\n\n  // Variables\n  const classes = useStyles();\n  const {\n    setAuthUser\n  } = useContext(AuthUserContext); // State\n\n  const [loginData, setLoginData] = useState(initialLoginData);\n  const [errors, setErrors] = useState(initialLoginData); // Functions\n\n  const onChangeHandler = e => {\n    setLoginData({ ...loginData,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const onSubmitHandler = async () => {\n    try {\n      const response = await ApiManager.login(loginData);\n      close();\n      setAuthUser(response.data.user);\n      history.push(`/profile/${response.data.user}`);\n    } catch (error) {\n      if (error.response.data.errors) {\n        setErrors({ ...errors,\n          ...error.response.data.errors\n        });\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    open: true,\n    onClose: close,\n    children: /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      component: Paper,\n      spacing: 3,\n      className: classes.root,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h3\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(TextField, {\n          variant: \"outlined\",\n          type: \"email\",\n          placeholder: \"Email\",\n          fullWidth: true,\n          name: \"email\",\n          onChange: onChangeHandler,\n          error: errors.email !== \"\",\n          helperText: errors.email\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(TextField, {\n          variant: \"outlined\",\n          type: \"password\",\n          placeholder: \"Password\",\n          fullWidth: true,\n          name: \"password\",\n          onChange: onChangeHandler,\n          error: errors.password !== \"\",\n          helperText: errors.password\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          color: \"primary\",\n          fullWidth: true,\n          variant: \"contained\",\n          onClick: onSubmitHandler,\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CloseButton, {\n        onClose: close\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Login, \"aW84BBvyOYWbHf0z0u3zo37Zkw8=\", false, function () {\n  return [useStyles];\n});\n\n_c = Login;\nexport default _c2 = withRouter(Login);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Login\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["/Users/cris/Code/pokemon-league/src/components/Login/Login.tsx"],"names":["useState","useContext","withRouter","Button","Grid","Modal","Paper","TextField","Typography","makeStyles","AuthUserContext","CloseButton","ApiManager","initialLoginData","email","password","useStyles","theme","root","position","top","left","transform","padding","spacing","width","maxWidth","Login","close","history","classes","setAuthUser","loginData","setLoginData","errors","setErrors","onChangeHandler","e","target","name","value","onSubmitHandler","response","login","data","user","push","error"],"mappings":";;;AAAA,SAAsBA,QAAtB,EAAgCC,UAAhC,QAAkD,OAAlD;AACA,SAASC,UAAT,QAAgD,kBAAhD;AACA,SAASC,MAAT,EAAiBC,IAAjB,EAAuBC,KAAvB,EAA8BC,KAA9B,EAAqCC,SAArC,EAAgDC,UAAhD,EAA4DC,UAA5D,QAA8E,mBAA9E;AAEA,OAAOC,eAAP,MAA4B,+BAA5B;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,SAASC,UAAT,QAA2B,0BAA3B;;AAWA,MAAMC,gBAA4B,GAAG;AACnCC,EAAAA,KAAK,EAAE,EAD4B;AAEnCC,EAAAA,QAAQ,EAAE;AAFyB,CAArC;AAKA,MAAMC,SAAS,GAAGP,UAAU,CAAEQ,KAAD,KAAY;AACvCC,EAAAA,IAAI,EAAE;AACJC,IAAAA,QAAQ,EAAE,UADN;AAEJC,IAAAA,GAAG,EAAE,KAFD;AAGJC,IAAAA,IAAI,EAAE,KAHF;AAIJC,IAAAA,SAAS,EAAE,uBAJP;AAKJC,IAAAA,OAAO,EAAEN,KAAK,CAACO,OAAN,CAAc,CAAd,CALL;AAMJC,IAAAA,KAAK,EAAE,KANH;AAOJC,IAAAA,QAAQ,EAAE;AAPN;AADiC,CAAZ,CAAD,CAA5B;;AAYA,MAAMC,KAAK,GAAG,CAAC;AAAEC,EAAAA,KAAF;AAASC,EAAAA;AAAT,CAAD,KAA+B;AAAA;;AAC3C;AACA,QAAMC,OAAO,GAAGd,SAAS,EAAzB;AACA,QAAM;AAAEe,IAAAA;AAAF,MAAkB9B,UAAU,CAACS,eAAD,CAAlC,CAH2C,CAK3C;;AACA,QAAM,CAACsB,SAAD,EAAYC,YAAZ,IAA4BjC,QAAQ,CAAaa,gBAAb,CAA1C;AACA,QAAM,CAACqB,MAAD,EAASC,SAAT,IAAsBnC,QAAQ,CAAaa,gBAAb,CAApC,CAP2C,CAS3C;;AACA,QAAMuB,eAAe,GAAIC,CAAD,IAAsC;AAC5DJ,IAAAA,YAAY,CAAC,EACX,GAAGD,SADQ;AAEX,OAACK,CAAC,CAACC,MAAF,CAASC,IAAV,GAAiBF,CAAC,CAACC,MAAF,CAASE;AAFf,KAAD,CAAZ;AAID,GALD;;AAOA,QAAMC,eAAe,GAAG,YAAY;AAClC,QAAI;AACF,YAAMC,QAAQ,GAAG,MAAM9B,UAAU,CAAC+B,KAAX,CAAiBX,SAAjB,CAAvB;AACAJ,MAAAA,KAAK;AACLG,MAAAA,WAAW,CAACW,QAAQ,CAACE,IAAT,CAAcC,IAAf,CAAX;AACAhB,MAAAA,OAAO,CAACiB,IAAR,CAAc,YAAWJ,QAAQ,CAACE,IAAT,CAAcC,IAAK,EAA5C;AACD,KALD,CAKE,OAAME,KAAN,EAAkB;AAClB,UAAGA,KAAK,CAACL,QAAN,CAAeE,IAAf,CAAoBV,MAAvB,EAA+B;AAC7BC,QAAAA,SAAS,CAAC,EAAC,GAAGD,MAAJ;AAAY,aAAGa,KAAK,CAACL,QAAN,CAAeE,IAAf,CAAoBV;AAAnC,SAAD,CAAT;AACD;AACF;AACF,GAXD;;AAaA,sBACE,QAAC,KAAD;AACE,IAAA,IAAI,MADN;AAEE,IAAA,OAAO,EAAEN,KAFX;AAAA,2BAIE,QAAC,IAAD;AAAM,MAAA,SAAS,MAAf;AAAgB,MAAA,SAAS,EAAEtB,KAA3B;AAAkC,MAAA,OAAO,EAAE,CAA3C;AAA8C,MAAA,SAAS,EAAEwB,OAAO,CAACZ,IAAjE;AAAA,8BACE,QAAC,IAAD;AAAM,QAAA,IAAI,MAAV;AAAW,QAAA,EAAE,EAAE,EAAf;AAAA,+BACE,QAAC,UAAD;AAAY,UAAA,OAAO,EAAE,IAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cADF,eAIE,QAAC,IAAD;AAAM,QAAA,IAAI,MAAV;AAAW,QAAA,EAAE,EAAE,EAAf;AAAA,+BACE,QAAC,SAAD;AACI,UAAA,OAAO,EAAE,UADb;AAEI,UAAA,IAAI,EAAC,OAFT;AAGI,UAAA,WAAW,EAAC,OAHhB;AAII,UAAA,SAAS,MAJb;AAKI,UAAA,IAAI,EAAC,OALT;AAMI,UAAA,QAAQ,EAAEkB,eANd;AAOI,UAAA,KAAK,EAAEF,MAAM,CAACpB,KAAP,KAAiB,EAP5B;AAQI,UAAA,UAAU,EAAEoB,MAAM,CAACpB;AARvB;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAJF,eAgBE,QAAC,IAAD;AAAM,QAAA,IAAI,MAAV;AAAW,QAAA,EAAE,EAAE,EAAf;AAAA,+BACE,QAAC,SAAD;AACE,UAAA,OAAO,EAAE,UADX;AAEE,UAAA,IAAI,EAAC,UAFP;AAGE,UAAA,WAAW,EAAC,UAHd;AAIE,UAAA,SAAS,MAJX;AAKE,UAAA,IAAI,EAAC,UALP;AAME,UAAA,QAAQ,EAAEsB,eANZ;AAOE,UAAA,KAAK,EAAEF,MAAM,CAACnB,QAAP,KAAoB,EAP7B;AAQE,UAAA,UAAU,EAAEmB,MAAM,CAACnB;AARrB;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAhBF,eA4BE,QAAC,IAAD;AAAM,QAAA,IAAI,MAAV;AAAW,QAAA,EAAE,EAAE,EAAf;AAAA,+BACE,QAAC,MAAD;AAAQ,UAAA,KAAK,EAAE,SAAf;AAA0B,UAAA,SAAS,MAAnC;AAAoC,UAAA,OAAO,EAAE,WAA7C;AAA0D,UAAA,OAAO,EAAE0B,eAAnE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cA5BF,eA+BE,QAAC,WAAD;AAAa,QAAA,OAAO,EAAEb;AAAtB;AAAA;AAAA;AAAA;AAAA,cA/BF;AAAA;AAAA;AAAA;AAAA;AAAA;AAJF;AAAA;AAAA;AAAA;AAAA,UADF;AAwCD,CAtED;;GAAMD,K;UAEYX,S;;;KAFZW,K;AAwEN,qBAAezB,UAAU,CAACyB,KAAD,CAAzB","sourcesContent":["import { ChangeEvent, useState, useContext } from 'react';\nimport { withRouter, RouteComponentProps } from 'react-router-dom';\nimport { Button, Grid, Modal, Paper, TextField, Typography, makeStyles } from '@material-ui/core';\n\nimport AuthUserContext from '../../context/AuthUserContext';\nimport CloseButton from '../UI/CloseButton/CloseButton';\nimport { ApiManager } from '../../helpers/ApiManager';\n\ninterface PROPS extends RouteComponentProps {\n  close: () => void\n}\n\ninterface LOGIN_DATA {\n  email: string,\n  password: string\n}\n\nconst initialLoginData: LOGIN_DATA = {\n  email: '',\n  password: ''\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)',\n    padding: theme.spacing(3),\n    width: '50%',\n    maxWidth: '50%'\n  }\n}));\n\nconst Login = ({ close, history }: PROPS) => {\n  // Variables\n  const classes = useStyles();\n  const { setAuthUser } = useContext(AuthUserContext);\n\n  // State\n  const [loginData, setLoginData] = useState<LOGIN_DATA>(initialLoginData);\n  const [errors, setErrors] = useState<LOGIN_DATA>(initialLoginData);\n\n  // Functions\n  const onChangeHandler = (e: ChangeEvent<HTMLInputElement>) => {\n    setLoginData({\n      ...loginData,\n      [e.target.name]: e.target.value\n    })\n  }\n\n  const onSubmitHandler = async () => {\n    try {\n      const response = await ApiManager.login(loginData);\n      close();\n      setAuthUser(response.data.user);\n      history.push(`/profile/${response.data.user}`);\n    } catch(error: any) {\n      if(error.response.data.errors) {\n        setErrors({...errors, ...error.response.data.errors});\n      }\n    }\n  }\n\n  return (\n    <Modal\n      open\n      onClose={close}\n    >\n      <Grid container component={Paper} spacing={3} className={classes.root}>\n        <Grid item xs={12}>\n          <Typography variant={\"h3\"}>Login</Typography>\n        </Grid>\n        <Grid item xs={12}>\n          <TextField\n              variant={\"outlined\"} \n              type=\"email\" \n              placeholder=\"Email\" \n              fullWidth \n              name=\"email\"\n              onChange={onChangeHandler}\n              error={errors.email !== \"\"}\n              helperText={errors.email}\n            />\n        </Grid>\n        <Grid item xs={12}>\n          <TextField\n            variant={\"outlined\"} \n            type=\"password\"  \n            placeholder=\"Password\" \n            fullWidth \n            name=\"password\"\n            onChange={onChangeHandler}\n            error={errors.password !== \"\"}\n            helperText={errors.password}\n          />\n        </Grid>\n        <Grid item xs={12}>\n          <Button color={\"primary\"} fullWidth variant={\"contained\"} onClick={onSubmitHandler}>Submit</Button>\n        </Grid>\n        <CloseButton onClose={close} />\n      </Grid>\n    </Modal>\n  )\n}\n\nexport default withRouter(Login);\n"]},"metadata":{},"sourceType":"module"}