{"ast":null,"code":"var _jsxFileName = \"/Users/cris/Code/pokemon-league/src/components/SignUp/SignUp.tsx\",\n    _s = $RefreshSig$();\n\nimport { useContext, useState } from 'react';\nimport { Button, Grid, FormLabel, FormControlLabel, Modal, Paper, Radio, TextField, Typography, RadioGroup } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CloseButton from '../UI/CloseButton/CloseButton';\nimport { withRouter } from 'react-router-dom';\nimport AuthUserContext from '../../context/AuthUserContext';\nimport { ApiManager } from '../../helpers/ApiManager';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialSignUpData = {\n  username: '',\n  first_name: '',\n  middle_name: '',\n  last_name: '',\n  email: '',\n  birthdate: '',\n  gender: '',\n  password: '',\n  confirm_password: ''\n};\nconst useStyles = makeStyles(theme => ({\n  root: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)',\n    padding: theme.spacing(3),\n    width: '50%',\n    maxWidth: '50%'\n  }\n}));\n\nconst SignUp = ({\n  close,\n  history\n}) => {\n  _s();\n\n  // vairables\n  const classes = useStyles();\n  const {\n    setAuthUser\n  } = useContext(AuthUserContext); // state\n\n  const [signUpData, setSignUpData] = useState(initialSignUpData);\n  const [errors, setErrors] = useState(initialSignUpData); // functions\n\n  const onChangeHandler = e => {\n    setSignUpData({ ...signUpData,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const isSubmitDisabled = () => {\n    switch (true) {\n      case signUpData.username === \"\":\n        return true;\n\n      case signUpData.email === \"\":\n        return true;\n\n      case signUpData.first_name === \"\":\n        return true;\n\n      case signUpData.last_name === \"\":\n        return true;\n\n      case signUpData.birthdate === \"\":\n        return true;\n\n      case signUpData.gender === \"\":\n        return true;\n\n      case signUpData.password === \"\":\n        return true;\n\n      case signUpData.confirm_password === \"\":\n        return true;\n\n      case passwordsDoNotMatch:\n        return true;\n\n      default:\n        return false;\n    }\n  };\n\n  const passwordsDoNotMatch = signUpData.confirm_password !== signUpData.password;\n\n  const onSubmitHandler = async () => {\n    try {\n      const response = await ApiManager.signUp(signUpData);\n      close();\n      setAuthUser(response.data.user);\n      history.push(`/profile/${response.data.user}`);\n    } catch (error) {\n      console.error(error);\n\n      if (error.response.data.errors) {\n        setErrors({ ...errors,\n          ...error.response.data.errors\n        });\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    open: true,\n    onClose: close,\n    children: /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      component: Paper,\n      spacing: 3,\n      className: classes.root,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h3\",\n          children: \"Sign Up\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 6,\n        children: /*#__PURE__*/_jsxDEV(TextField, {\n          autoFocus: true,\n          variant: \"outlined\",\n          type: \"text\",\n          placeholder: \"Username\",\n          fullWidth: true,\n          name: \"username\",\n          onChange: onChangeHandler,\n          error: errors.username !== \"\",\n          helperText: errors.username\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 6,\n        children: /*#__PURE__*/_jsxDEV(TextField, {\n          variant: \"outlined\",\n          type: \"email\",\n          placeholder: \"Email\",\n          fullWidth: true,\n          name: \"email\",\n          onChange: onChangeHandler,\n          error: errors.email !== \"\",\n          helperText: errors.email\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 4,\n        children: /*#__PURE__*/_jsxDEV(TextField, {\n          variant: \"outlined\",\n          type: \"text\",\n          placeholder: \"First Name\",\n          fullWidth: true,\n          name: \"first_name\",\n          onChange: onChangeHandler,\n          error: errors.first_name !== \"\",\n          helperText: errors.first_name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 4,\n        children: /*#__PURE__*/_jsxDEV(TextField, {\n          variant: \"outlined\",\n          type: \"text\",\n          placeholder: \"Middle Name\",\n          fullWidth: true,\n          name: \"middle_name\",\n          onChange: onChangeHandler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 4,\n        children: /*#__PURE__*/_jsxDEV(TextField, {\n          variant: \"outlined\",\n          type: \"text\",\n          placeholder: \"Last Name\",\n          fullWidth: true,\n          name: \"last_name\",\n          onChange: onChangeHandler,\n          error: errors.last_name !== \"\",\n          helperText: errors.last_name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 8,\n        children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n          children: \"Birthdate\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          variant: \"outlined\",\n          id: \"birthdate\",\n          type: \"date\",\n          fullWidth: true,\n          name: \"birthdate\",\n          onChange: onChangeHandler,\n          error: errors.birthdate !== \"\",\n          helperText: errors.birthdate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 4,\n        children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n          children: \"Gender\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(RadioGroup, {\n          children: /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            children: [/*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 6,\n              children: /*#__PURE__*/_jsxDEV(FormControlLabel, {\n                value: \"end\",\n                control: /*#__PURE__*/_jsxDEV(Radio, {\n                  id: \"m\",\n                  value: \"m\",\n                  className: \"radio\",\n                  name: \"gender\",\n                  checked: signUpData.gender === 'm',\n                  onChange: onChangeHandler\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 189,\n                  columnNumber: 21\n                }, this),\n                label: \"Male\",\n                labelPlacement: \"end\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 186,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 6,\n              children: /*#__PURE__*/_jsxDEV(FormControlLabel, {\n                value: \"end\",\n                control: /*#__PURE__*/_jsxDEV(Radio, {\n                  id: \"f\",\n                  value: \"f\",\n                  className: \"radio\",\n                  name: \"gender\",\n                  checked: signUpData.gender === 'f',\n                  onChange: onChangeHandler\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 206,\n                  columnNumber: 23\n                }, this),\n                label: \"Female\",\n                labelPlacement: \"end\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 203,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              className: \"MuiFormHelperText-root MuiFormHelperText-contained Mui-error\",\n              variant: \"caption\",\n              children: errors.gender\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(TextField, {\n          variant: \"outlined\",\n          type: \"password\",\n          placeholder: \"Password\",\n          fullWidth: true,\n          name: \"password\",\n          onChange: onChangeHandler,\n          error: errors.password !== \"\",\n          helperText: errors.password\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(TextField, {\n          variant: \"outlined\",\n          type: \"password\",\n          placeholder: \"Confirm Password\",\n          fullWidth: true,\n          name: \"confirm_password\",\n          onChange: onChangeHandler,\n          error: errors.confirm_password !== \"\" || passwordsDoNotMatch,\n          helperText: errors.confirm_password ? errors.confirm_password : passwordsDoNotMatch ? 'Passwords do not match' : null\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          color: \"primary\",\n          fullWidth: true,\n          variant: \"contained\",\n          onClick: onSubmitHandler,\n          disabled: isSubmitDisabled(),\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CloseButton, {\n        onClose: close\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 101,\n    columnNumber: 5\n  }, this);\n};\n\n_s(SignUp, \"hjn7Ii3kwXHNx/PyLTAYhr0/u1Y=\", false, function () {\n  return [useStyles];\n});\n\n_c = SignUp;\nexport default _c2 = withRouter(SignUp);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"SignUp\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["/Users/cris/Code/pokemon-league/src/components/SignUp/SignUp.tsx"],"names":["useContext","useState","Button","Grid","FormLabel","FormControlLabel","Modal","Paper","Radio","TextField","Typography","RadioGroup","makeStyles","CloseButton","withRouter","AuthUserContext","ApiManager","initialSignUpData","username","first_name","middle_name","last_name","email","birthdate","gender","password","confirm_password","useStyles","theme","root","position","top","left","transform","padding","spacing","width","maxWidth","SignUp","close","history","classes","setAuthUser","signUpData","setSignUpData","errors","setErrors","onChangeHandler","e","target","name","value","isSubmitDisabled","passwordsDoNotMatch","onSubmitHandler","response","signUp","data","user","push","error","console"],"mappings":"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","sourcesContent":["import { ChangeEvent, useContext, useState } from 'react';\nimport { Button, Grid, FormLabel, FormControlLabel, Modal, Paper, Radio, TextField, Typography, Theme, RadioGroup } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CloseButton from '../UI/CloseButton/CloseButton';\nimport { RouteComponentProps, withRouter } from 'react-router-dom';\nimport AuthUserContext from '../../context/AuthUserContext';\nimport { USER } from '../../types';\nimport { ApiManager } from '../../helpers/ApiManager';\n\ninterface PROPS extends RouteComponentProps {\n  close: () => void\n}\n\ninterface SIGNUP_DATA extends Partial<USER> {\n  confirm_password: string\n}\n\nconst initialSignUpData: SIGNUP_DATA = {\n  username: '',\n  first_name: '',\n  middle_name: '',\n  last_name: '',\n  email: '',\n  birthdate: '',\n  gender: '',\n  password: '',\n  confirm_password: ''\n}\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  root: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)',\n    padding: theme.spacing(3),\n    width: '50%',\n    maxWidth: '50%'\n  }\n}));\n\nconst SignUp = ({ close, history }: PROPS ) => {\n  // vairables\n  const classes = useStyles();\n  const { setAuthUser } = useContext(AuthUserContext);\n\n  // state\n  const [signUpData, setSignUpData] = useState<SIGNUP_DATA>(initialSignUpData);\n  const [errors, setErrors] = useState<SIGNUP_DATA>(initialSignUpData);\n  \n  // functions\n  const onChangeHandler = (e: ChangeEvent<HTMLInputElement>): void => {\n    setSignUpData({\n      ...signUpData,\n      [e.target.name]: e.target.value\n    })\n  }\n\n  const isSubmitDisabled = () => {\n    switch (true) {\n      case signUpData.username === \"\":\n        return true;\n      case signUpData.email === \"\":\n        return true;\n      case signUpData.first_name === \"\":\n        return true;\n      case signUpData.last_name === \"\":\n        return true;\n      case signUpData.birthdate === \"\":\n        return true;\n      case signUpData.gender === \"\":\n        return true;\n      case signUpData.password === \"\":\n        return true;\n      case signUpData.confirm_password === \"\":\n        return true;\n      case passwordsDoNotMatch:\n        return true;\n      default:\n        return false;\n    }\n  }\n\n  const passwordsDoNotMatch = signUpData.confirm_password !== signUpData.password;\n\n  const onSubmitHandler = async () => {\n    try {\n      const response: any = await ApiManager.signUp(signUpData);\n      close();\n      setAuthUser(response.data.user);\n      history.push(`/profile/${response.data.user}`);\n    } catch(error: any) {\n      console.error(error);\n      if(error.response.data.errors) {\n        setErrors({...errors, ...error.response.data.errors});\n      }\n    }\n  }\n\n  return (\n    <Modal\n      open\n      onClose={close}\n    >\n      <Grid container component={Paper} spacing={3} className={classes.root}>\n        <Grid item xs={12}>\n          <Typography variant={\"h3\"}>Sign Up</Typography>\n        </Grid>\n        <Grid item xs={6}>\n          <TextField\n            autoFocus\n            variant={\"outlined\"} \n            type=\"text\" \n            placeholder=\"Username\"\n            fullWidth\n            name=\"username\"\n            onChange={onChangeHandler} \n            error={errors.username !== \"\"}\n            helperText={errors.username}\n          />\n        </Grid>\n        <Grid item xs={6}>\n          <TextField\n            variant={\"outlined\"} \n            type=\"email\" \n            placeholder=\"Email\" \n            fullWidth \n            name=\"email\"\n            onChange={onChangeHandler}\n            error={errors.email !== \"\"}\n            helperText={errors.email}\n          />\n        </Grid>\n        <Grid item xs={4}>\n          <TextField\n            variant={\"outlined\"} \n            type=\"text\" \n            placeholder=\"First Name\" \n            fullWidth \n            name=\"first_name\"\n            onChange={onChangeHandler}\n            error={errors.first_name !== \"\"}\n            helperText={errors.first_name}\n          />\n        </Grid>\n        <Grid item xs={4}>\n          <TextField\n            variant={\"outlined\"} \n            type=\"text\" \n            placeholder=\"Middle Name\" \n            fullWidth \n            name=\"middle_name\"\n            onChange={onChangeHandler}\n          />\n        </Grid>\n        <Grid item xs={4}>\n          <TextField\n            variant={\"outlined\"} \n            type=\"text\" \n            placeholder=\"Last Name\" \n            fullWidth\n            name=\"last_name\"\n            onChange={onChangeHandler} \n            error={errors.last_name !== \"\"}\n            helperText={errors.last_name}\n          />\n        </Grid>\n        <Grid item xs={8}>\n          <FormLabel>Birthdate</FormLabel>\n          <TextField\n            variant={\"outlined\"} \n            id=\"birthdate\" \n            type=\"date\" \n            fullWidth \n            name=\"birthdate\"\n            onChange={onChangeHandler}\n            error={errors.birthdate !== \"\"}\n            helperText={errors.birthdate}\n          />\n        </Grid>\n        <Grid item xs={4}>\n          <FormLabel>Gender</FormLabel>\n          <RadioGroup>\n            <Grid container>\n              <Grid item xs={6}>\n                <FormControlLabel\n                  value=\"end\"\n                  control={\n                    <Radio\n                      id=\"m\"\n                      value=\"m\" \n                      className=\"radio\"\n                      name=\"gender\"\n                      checked={signUpData.gender === 'm'}\n                      onChange={onChangeHandler}\n                    />\n                  }\n                  label=\"Male\"\n                  labelPlacement=\"end\"\n                />\n              </Grid>\n              <Grid item xs={6}>\n                <FormControlLabel\n                    value=\"end\"\n                    control={\n                      <Radio\n                        id=\"f\"\n                        value=\"f\" \n                        className=\"radio\" \n                        name=\"gender\"\n                        checked={signUpData.gender === 'f'}\n                        onChange={onChangeHandler}\n                      />\n                    }\n                    label=\"Female\"\n                    labelPlacement=\"end\"\n                  />\n              </Grid>\n              <Typography className={\"MuiFormHelperText-root MuiFormHelperText-contained Mui-error\"} variant={\"caption\"}>{errors.gender}</Typography>\n            </Grid>\n          </RadioGroup>\n        </Grid>\n        <Grid item xs={12}>\n          <TextField\n            variant={\"outlined\"} \n            type=\"password\"  \n            placeholder=\"Password\" \n            fullWidth \n            name=\"password\"\n            onChange={onChangeHandler}\n            error={errors.password !== \"\"}\n            helperText={errors.password}\n          />\n        </Grid>\n        <Grid item xs={12}>\n          <TextField \n            variant={\"outlined\"}\n            type=\"password\"  \n            placeholder=\"Confirm Password\" \n            fullWidth \n            name=\"confirm_password\"\n            onChange={onChangeHandler}\n            error={errors.confirm_password !== \"\" || passwordsDoNotMatch}\n            helperText={errors.confirm_password ? errors.confirm_password : passwordsDoNotMatch ? 'Passwords do not match' : null}\n          />\n        </Grid>\n        <Grid item xs={12}>\n          <Button \n            color={\"primary\"} \n            fullWidth \n            variant={\"contained\"} \n            onClick={onSubmitHandler}\n            disabled={isSubmitDisabled()}\n          >\n            Submit\n          </Button>\n        </Grid>\n        <CloseButton onClose={close} />\n      </Grid>\n    </Modal>\n  )\n}\n\nexport default withRouter(SignUp);\n"]},"metadata":{},"sourceType":"module"}