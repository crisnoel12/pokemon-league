{"ast":null,"code":"import _regeneratorRuntime from\"/Users/cris/Code/pokemon-league/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/cris/Code/pokemon-league/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/Users/cris/Code/pokemon-league/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/cris/Code/pokemon-league/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/cris/Code/pokemon-league/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useContext,useState}from'react';import{Button,Grid,FormLabel,FormControlLabel,Modal,Paper,Radio,TextField,Typography,RadioGroup}from'@material-ui/core';import{makeStyles}from'@material-ui/core/styles';import CloseButton from'../UI/CloseButton/CloseButton';import{withRouter}from'react-router-dom';import AuthUserContext from'../../context/AuthUserContext';import{ApiManager}from'../../helpers/ApiManager';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var initialSignUpData={username:'',first_name:'',middle_name:'',last_name:'',email:'',birthdate:'',gender:'',password:'',confirm_password:''};var useStyles=makeStyles(function(theme){return{root:{position:'absolute',top:'50%',left:'50%',transform:'translate(-50%, -50%)',padding:theme.spacing(3),width:'50%',maxWidth:'50%'}};});var SignUp=function SignUp(_ref){var close=_ref.close,history=_ref.history;// vairables\nvar classes=useStyles();var _ref2=useContext(AuthUserContext),setAuthUser=_ref2.setAuthUser;// state\nvar _useState=useState(initialSignUpData),_useState2=_slicedToArray(_useState,2),signUpData=_useState2[0],setSignUpData=_useState2[1];var _useState3=useState(initialSignUpData),_useState4=_slicedToArray(_useState3,2),errors=_useState4[0],setErrors=_useState4[1];// functions\nvar onChangeHandler=function onChangeHandler(e){setSignUpData(_objectSpread(_objectSpread({},signUpData),{},_defineProperty({},e.target.name,e.target.value)));};var isSubmitDisabled=function isSubmitDisabled(){switch(true){case signUpData.username===\"\":return true;case signUpData.email===\"\":return true;case signUpData.first_name===\"\":return true;case signUpData.last_name===\"\":return true;case signUpData.birthdate===\"\":return true;case signUpData.gender===\"\":return true;case signUpData.password===\"\":return true;case signUpData.confirm_password===\"\":return true;case passwordsDoNotMatch:return true;default:return false;}};var passwordsDoNotMatch=signUpData.confirm_password!==signUpData.password;var onSubmitHandler=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return ApiManager.signUp(signUpData);case 3:response=_context.sent;close();setAuthUser(response.data.user);history.push(\"/profile/\".concat(response.data.user));_context.next=13;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);console.error(_context.t0);if(_context.t0.response.data.errors){setErrors(_objectSpread(_objectSpread({},errors),_context.t0.response.data.errors));}case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,9]]);}));return function onSubmitHandler(){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsx(Modal,{open:true,onClose:close,children:/*#__PURE__*/_jsx(\"form\",{onSubmit:onSubmitHandler,children:/*#__PURE__*/_jsxs(Grid,{container:true,component:Paper,spacing:3,className:classes.root,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(Typography,{variant:\"h3\",children:\"Sign Up\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:6,children:/*#__PURE__*/_jsx(TextField,{autoFocus:true,variant:\"outlined\",type:\"text\",placeholder:\"Username\",fullWidth:true,name:\"username\",onChange:onChangeHandler,error:errors.username!==\"\",helperText:errors.username})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:6,children:/*#__PURE__*/_jsx(TextField,{variant:\"outlined\",type:\"email\",placeholder:\"Email\",fullWidth:true,name:\"email\",onChange:onChangeHandler,error:errors.email!==\"\",helperText:errors.email})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:4,children:/*#__PURE__*/_jsx(TextField,{variant:\"outlined\",type:\"text\",placeholder:\"First Name\",fullWidth:true,name:\"first_name\",onChange:onChangeHandler,error:errors.first_name!==\"\",helperText:errors.first_name})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:4,children:/*#__PURE__*/_jsx(TextField,{variant:\"outlined\",type:\"text\",placeholder:\"Middle Name\",fullWidth:true,name:\"middle_name\",onChange:onChangeHandler})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:4,children:/*#__PURE__*/_jsx(TextField,{variant:\"outlined\",type:\"text\",placeholder:\"Last Name\",fullWidth:true,name:\"last_name\",onChange:onChangeHandler,error:errors.last_name!==\"\",helperText:errors.last_name})}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:8,children:[/*#__PURE__*/_jsx(FormLabel,{children:\"Birthdate\"}),/*#__PURE__*/_jsx(TextField,{variant:\"outlined\",id:\"birthdate\",type:\"date\",fullWidth:true,name:\"birthdate\",onChange:onChangeHandler,error:errors.birthdate!==\"\",helperText:errors.birthdate})]}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:4,children:[/*#__PURE__*/_jsx(FormLabel,{children:\"Gender\"}),/*#__PURE__*/_jsx(RadioGroup,{children:/*#__PURE__*/_jsxs(Grid,{container:true,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:6,children:/*#__PURE__*/_jsx(FormControlLabel,{value:\"end\",control:/*#__PURE__*/_jsx(Radio,{id:\"m\",value:\"m\",className:\"radio\",name:\"gender\",checked:signUpData.gender==='m',onChange:onChangeHandler}),label:\"Male\",labelPlacement:\"end\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:6,children:/*#__PURE__*/_jsx(FormControlLabel,{value:\"end\",control:/*#__PURE__*/_jsx(Radio,{id:\"f\",value:\"f\",className:\"radio\",name:\"gender\",checked:signUpData.gender==='f',onChange:onChangeHandler}),label:\"Female\",labelPlacement:\"end\"})}),/*#__PURE__*/_jsx(Typography,{className:\"MuiFormHelperText-root MuiFormHelperText-contained Mui-error\",variant:\"caption\",children:errors.gender})]})})]}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{variant:\"outlined\",type:\"password\",placeholder:\"Password\",fullWidth:true,name:\"password\",onChange:onChangeHandler,error:errors.password!==\"\",helperText:errors.password})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{variant:\"outlined\",type:\"password\",placeholder:\"Confirm Password\",fullWidth:true,name:\"confirm_password\",onChange:onChangeHandler,error:errors.confirm_password!==\"\"||passwordsDoNotMatch,helperText:errors.confirm_password?errors.confirm_password:passwordsDoNotMatch?'Passwords do not match':null})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(Button,{color:\"primary\",fullWidth:true,variant:\"contained\",onClick:onSubmitHandler,disabled:isSubmitDisabled(),children:\"Submit\"})}),/*#__PURE__*/_jsx(CloseButton,{onClose:close})]})})});};export default withRouter(SignUp);","map":{"version":3,"sources":["/Users/cris/Code/pokemon-league/src/components/SignUp/SignUp.tsx"],"names":["useContext","useState","Button","Grid","FormLabel","FormControlLabel","Modal","Paper","Radio","TextField","Typography","RadioGroup","makeStyles","CloseButton","withRouter","AuthUserContext","ApiManager","initialSignUpData","username","first_name","middle_name","last_name","email","birthdate","gender","password","confirm_password","useStyles","theme","root","position","top","left","transform","padding","spacing","width","maxWidth","SignUp","close","history","classes","setAuthUser","signUpData","setSignUpData","errors","setErrors","onChangeHandler","e","target","name","value","isSubmitDisabled","passwordsDoNotMatch","onSubmitHandler","signUp","response","data","user","push","console","error"],"mappings":"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","sourcesContent":["import { ChangeEvent, useContext, useState } from 'react';\nimport { Button, Grid, FormLabel, FormControlLabel, Modal, Paper, Radio, TextField, Typography, Theme, RadioGroup } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CloseButton from '../UI/CloseButton/CloseButton';\nimport { RouteComponentProps, withRouter } from 'react-router-dom';\nimport AuthUserContext from '../../context/AuthUserContext';\nimport { USER } from '../../types';\nimport { ApiManager } from '../../helpers/ApiManager';\nimport { AUTHUSERCONTEXT } from '../../types/index';\n\ninterface PROPS extends RouteComponentProps {\n  close: () => void\n}\n\ninterface SIGNUP_DATA extends Partial<USER> {\n  confirm_password: string\n}\n\nconst initialSignUpData: SIGNUP_DATA = {\n  username: '',\n  first_name: '',\n  middle_name: '',\n  last_name: '',\n  email: '',\n  birthdate: '',\n  gender: '',\n  password: '',\n  confirm_password: ''\n}\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  root: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)',\n    padding: theme.spacing(3),\n    width: '50%',\n    maxWidth: '50%'\n  }\n}));\n\nconst SignUp = ({ close, history }: PROPS ) => {\n  // vairables\n  const classes = useStyles();\n  const { setAuthUser } = useContext(AuthUserContext) as AUTHUSERCONTEXT;\n\n  // state\n  const [signUpData, setSignUpData] = useState<SIGNUP_DATA>(initialSignUpData);\n  const [errors, setErrors] = useState<SIGNUP_DATA>(initialSignUpData);\n  \n  // functions\n  const onChangeHandler = (e: ChangeEvent<HTMLInputElement>): void => {\n    setSignUpData({\n      ...signUpData,\n      [e.target.name]: e.target.value\n    })\n  }\n\n  const isSubmitDisabled = () => {\n    switch (true) {\n      case signUpData.username === \"\":\n        return true;\n      case signUpData.email === \"\":\n        return true;\n      case signUpData.first_name === \"\":\n        return true;\n      case signUpData.last_name === \"\":\n        return true;\n      case signUpData.birthdate === \"\":\n        return true;\n      case signUpData.gender === \"\":\n        return true;\n      case signUpData.password === \"\":\n        return true;\n      case signUpData.confirm_password === \"\":\n        return true;\n      case passwordsDoNotMatch:\n        return true;\n      default:\n        return false;\n    }\n  }\n\n  const passwordsDoNotMatch = signUpData.confirm_password !== signUpData.password;\n\n  const onSubmitHandler = async () => {\n    try {\n      const response: any = await ApiManager.signUp(signUpData);\n      close();\n      setAuthUser(response.data.user);\n      history.push(`/profile/${response.data.user}`);\n    } catch(error: any) {\n      console.error(error);\n      if(error.response.data.errors) {\n        setErrors({...errors, ...error.response.data.errors});\n      }\n    }\n  }\n\n  return (\n    <Modal\n      open\n      onClose={close}\n    >\n      <form onSubmit={onSubmitHandler}>\n        <Grid container component={Paper} spacing={3} className={classes.root}>\n          <Grid item xs={12}>\n            <Typography variant={\"h3\"}>Sign Up</Typography>\n          </Grid>\n          <Grid item xs={6}>\n            <TextField\n              autoFocus\n              variant={\"outlined\"} \n              type=\"text\" \n              placeholder=\"Username\"\n              fullWidth\n              name=\"username\"\n              onChange={onChangeHandler} \n              error={errors.username !== \"\"}\n              helperText={errors.username}\n            />\n          </Grid>\n          <Grid item xs={6}>\n            <TextField\n              variant={\"outlined\"} \n              type=\"email\" \n              placeholder=\"Email\" \n              fullWidth \n              name=\"email\"\n              onChange={onChangeHandler}\n              error={errors.email !== \"\"}\n              helperText={errors.email}\n            />\n          </Grid>\n          <Grid item xs={4}>\n            <TextField\n              variant={\"outlined\"} \n              type=\"text\" \n              placeholder=\"First Name\" \n              fullWidth \n              name=\"first_name\"\n              onChange={onChangeHandler}\n              error={errors.first_name !== \"\"}\n              helperText={errors.first_name}\n            />\n          </Grid>\n          <Grid item xs={4}>\n            <TextField\n              variant={\"outlined\"} \n              type=\"text\" \n              placeholder=\"Middle Name\" \n              fullWidth \n              name=\"middle_name\"\n              onChange={onChangeHandler}\n            />\n          </Grid>\n          <Grid item xs={4}>\n            <TextField\n              variant={\"outlined\"} \n              type=\"text\" \n              placeholder=\"Last Name\" \n              fullWidth\n              name=\"last_name\"\n              onChange={onChangeHandler} \n              error={errors.last_name !== \"\"}\n              helperText={errors.last_name}\n            />\n          </Grid>\n          <Grid item xs={8}>\n            <FormLabel>Birthdate</FormLabel>\n            <TextField\n              variant={\"outlined\"} \n              id=\"birthdate\" \n              type=\"date\" \n              fullWidth \n              name=\"birthdate\"\n              onChange={onChangeHandler}\n              error={errors.birthdate !== \"\"}\n              helperText={errors.birthdate}\n            />\n          </Grid>\n          <Grid item xs={4}>\n            <FormLabel>Gender</FormLabel>\n            <RadioGroup>\n              <Grid container>\n                <Grid item xs={6}>\n                  <FormControlLabel\n                    value=\"end\"\n                    control={\n                      <Radio\n                        id=\"m\"\n                        value=\"m\" \n                        className=\"radio\"\n                        name=\"gender\"\n                        checked={signUpData.gender === 'm'}\n                        onChange={onChangeHandler}\n                      />\n                    }\n                    label=\"Male\"\n                    labelPlacement=\"end\"\n                  />\n                </Grid>\n                <Grid item xs={6}>\n                  <FormControlLabel\n                      value=\"end\"\n                      control={\n                        <Radio\n                          id=\"f\"\n                          value=\"f\" \n                          className=\"radio\" \n                          name=\"gender\"\n                          checked={signUpData.gender === 'f'}\n                          onChange={onChangeHandler}\n                        />\n                      }\n                      label=\"Female\"\n                      labelPlacement=\"end\"\n                    />\n                </Grid>\n                <Typography className={\"MuiFormHelperText-root MuiFormHelperText-contained Mui-error\"} variant={\"caption\"}>{errors.gender}</Typography>\n              </Grid>\n            </RadioGroup>\n          </Grid>\n          <Grid item xs={12}>\n            <TextField\n              variant={\"outlined\"} \n              type=\"password\"  \n              placeholder=\"Password\" \n              fullWidth \n              name=\"password\"\n              onChange={onChangeHandler}\n              error={errors.password !== \"\"}\n              helperText={errors.password}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <TextField \n              variant={\"outlined\"}\n              type=\"password\"  \n              placeholder=\"Confirm Password\" \n              fullWidth \n              name=\"confirm_password\"\n              onChange={onChangeHandler}\n              error={errors.confirm_password !== \"\" || passwordsDoNotMatch}\n              helperText={errors.confirm_password ? errors.confirm_password : passwordsDoNotMatch ? 'Passwords do not match' : null}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <Button \n              color={\"primary\"} \n              fullWidth \n              variant={\"contained\"} \n              onClick={onSubmitHandler}\n              disabled={isSubmitDisabled()}\n            >\n              Submit\n            </Button>\n          </Grid>\n          <CloseButton onClose={close} />\n        </Grid>\n      </form>\n    </Modal>\n  )\n}\n\nexport default withRouter(SignUp);\n"]},"metadata":{},"sourceType":"module"}